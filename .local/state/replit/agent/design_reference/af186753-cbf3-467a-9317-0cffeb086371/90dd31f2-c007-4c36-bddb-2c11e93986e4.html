<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Agreement Application</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'inter': ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            500: '#2563eb',
                            600: '#1d4ed8',
                            700: '#1e40af'
                        }
                    }
                }
            }
        };
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 font-inter min-h-screen">
    <!-- @COMPONENT: Header -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-4">
                    <i class="fas fa-home text-primary-500 text-xl"></i>
                    <h1 class="text-xl font-semibold text-gray-900">House Agreement Application</h1>
                </div>
                <nav class="flex space-x-4">
                    <button id="formTab" class="px-4 py-2 text-sm font-medium text-primary-600 bg-primary-50 rounded-lg border border-primary-200 transition-colors">
                        <i class="fas fa-edit mr-2"></i>Application Form
                    </button>
                    <button id="viewTab" class="px-4 py-2 text-sm font-medium text-gray-600 bg-white rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors">
                        <i class="fas fa-eye mr-2"></i>View Agreement
                    </button>
                </nav>
            </div>
        </div>
    </header>
    <!-- @END_COMPONENT: Header -->

    <main class="max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <!-- @COMPONENT: ApplicationForm -->
        <div id="applicationForm" class="space-y-8">
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                <div class="bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-4">
                    <h2 class="text-xl font-semibold text-white">Dynamic House Agreement Form</h2>
                    <p class="text-primary-100 text-sm mt-1">Fill out all required information to generate your lease agreement</p>
                </div>
                
                <form id="agreementForm" class="p-6 space-y-6">
                    <!-- Agreement Date Section -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Agreement Made On <span class="text-red-500">*</span>
                            </label>
                            <input type="date" id="agreementDate" required 
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                        </div>
                    </div>

                    <!-- Personal Information Section -->
                    <div class="border-t border-gray-200 pt-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-user text-primary-500 mr-2"></i>
                            Personal Information
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Name of the Tenant <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="tenantName" required placeholder="Enter tenant's full name"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    S/o or D/o. (Father's Name) <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="fatherName" required placeholder="Enter father's name"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Religion <span class="text-red-500">*</span>
                                </label>
                                <select id="religion" required 
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                                    <option value="">-- Select Religion --</option>
                                    <option value="Hindu">Hindu</option>
                                    <option value="Muslim">Muslim</option>
                                    <option value="Christian">Christian</option>
                                    <option value="Sikh">Sikh</option>
                                    <option value="Other">Other</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Tenant Occupation <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="occupation" required placeholder="Enter occupation"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                        </div>
                    </div>

                    <!-- Property Information Section -->
                    <div class="border-t border-gray-200 pt-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-building text-primary-500 mr-2"></i>
                            Property Information
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Allowed Floors <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="allowedFloors" required placeholder="e.g., Ground Floor, 1st Floor"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Room's Consisting Of <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="roomsConsisting" required placeholder="e.g., 2 Bedrooms, 1 Kitchen, 1 Bathroom"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                        </div>
                    </div>

                    <!-- Contact Information Section -->
                    <div class="border-t border-gray-200 pt-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-phone text-primary-500 mr-2"></i>
                            Contact Information
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Phone (Working) <span class="text-red-500">*</span>
                                </label>
                                <input type="tel" id="phoneWorking" required placeholder="Enter working phone number"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Phone (Alternative)
                                </label>
                                <input type="tel" id="phoneAlternative" placeholder="Enter alternative phone number"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                        </div>
                    </div>

                    <!-- Rental Information Section -->
                    <div class="border-t border-gray-200 pt-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-rupee-sign text-primary-500 mr-2"></i>
                            Rental Information
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    House Rent per Month <span class="text-red-500">*</span>
                                </label>
                                <input type="number" id="monthlyRent" required placeholder="Enter monthly rent amount"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">
                                    Electrical Meter Reading
                                </label>
                                <input type="text" id="meterReading" placeholder="Enter current meter reading"
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors">
                            </div>
                        </div>
                    </div>

                    <!-- Additional Information Section -->
                    <div class="border-t border-gray-200 pt-6">
                        <h3 class="text-lg font-medium text-gray-900 mb-4 flex items-center">
                            <i class="fas fa-clipboard-list text-primary-500 mr-2"></i>
                            Additional Information
                        </h3>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">
                                Special Instructions
                            </label>
                            <textarea id="specialInstructions" rows="4" placeholder="Enter any special instructions or terms"
                                class="w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors resize-none"></textarea>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <div class="border-t border-gray-200 pt-6">
                        <div class="flex justify-end space-x-4">
                            <button type="button" class="px-6 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors">
                                Reset Form
                            </button>
                            <button type="submit" class="px-8 py-2 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors flex items-center">
                                <i class="fas fa-paper-plane mr-2"></i>
                                Generate Agreement
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- @END_COMPONENT: ApplicationForm -->

        <!-- @COMPONENT: ViewAgreement -->
        <div id="viewAgreement" class="hidden space-y-6">
            <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden">
                <div class="bg-gradient-to-r from-primary-500 to-primary-600 px-6 py-4 flex justify-between items-center">
                    <div>
                        <h2 class="text-xl font-semibold text-white">Lease Agreement Document</h2>
                        <p class="text-primary-100 text-sm mt-1">Review and download your agreement</p>
                    </div>
                    <div class="flex space-x-3">
                        <button id="downloadBtn" class="px-4 py-2 bg-white text-primary-600 font-medium rounded-lg hover:bg-primary-50 transition-colors flex items-center">
                            <i class="fas fa-download mr-2"></i>
                            Download
                        </button>
                        <button id="backToForm" class="px-4 py-2 bg-primary-700 text-white font-medium rounded-lg hover:bg-primary-800 transition-colors flex items-center">
                            <i class="fas fa-arrow-left mr-2"></i>
                            Back to Form
                        </button>
                    </div>
                </div>

                <!-- Agreement Document Content -->
                <div id="agreementContent" class="p-8 bg-white">
                    <div class="max-w-3xl mx-auto">
                        <!-- Document Header -->
                        <div class="text-center mb-8">
                            <h1 class="text-2xl font-bold text-gray-900 mb-2">LEASE AGREEMENT FOR RENT</h1>
                            <div class="w-24 h-1 bg-primary-500 mx-auto rounded"></div>
                        </div>

                        <!-- Agreement Content -->
                        <div class="space-y-6 text-gray-700 leading-relaxed">
                            <p class="text-justify">
                                This <strong>AGREEMENT</strong> is entered into on 
                                <span id="displayDate" class="font-semibold border-b border-gray-300 px-1" data-bind="agreementDate">___________</span>
                                day of month between ___________hereinafter "OWNER RAGHAV" and 
                                <span id="displayTenantName" class="font-semibold border-b border-gray-300 px-1" data-bind="tenantName">___________</span>
                                S/o or D/o 
                                <span id="displayFatherName" class="font-semibold border-b border-gray-300 px-1" data-bind="fatherName">___________</span>
                                hereinafter "TENANT" as defined and described below. OWNER and TENANT are also referred to individually as a "Party" and collectively as the "Parties." Whereas the Tenant intends to take the building as TENANT for Residence the building of situated and described as Allowed floors in the ground floor of the said building for the time hereinafter, Administration representative and receipt of this LEASE AGREEMENT:
                            </p>

                            <p class="text-justify">
                                1. <strong>TENANT</strong> ________________ (Occupation) ______________ (Building N0) _____________
                                That the Tenant Occupation is 
                                <span id="displayOccupation" class="font-semibold border-b border-gray-300 px-1" data-bind="occupation">___________</span>
                                , Administration representative and receipt of the LEASE AGREEMENT.
                            </p>

                            <p class="text-justify">
                                Whereas the said tenant has agreed to let out the premises On, The OUTLINE OWNER agrees that ATUL N0: 
                                <span id="displayRent" class="font-semibold border-b border-gray-300 px-1" data-bind="monthlyRent">___________</span>
                                Rent of the Tenant, The OUTLINE OWNER agrees with the same herewith and is signing as per the terms and conditions of this building and also any written or 
                                agreed to at the time of commencement of Rent Residence. Any details are as follows as written on the ground floor of the said premises.
                            </p>

                            <div class="bg-gray-50 p-6 rounded-lg">
                                <h3 class="font-semibold text-gray-900 mb-4">NOW, THE PRINCIPAL INFORMATION AS FOLLOWS:</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                                    <div class="space-y-2">
                                        <p>• The said property is ________________ Consist difference floors</p>
                                        <p>• The Rent will paid be is ________________ per month difference floors <span id="displayRentAmount" class="font-semibold" data-bind="monthlyRent">___________</span></p>
                                        <p>• The Electricl bill paid by the ________________ as is per month basis <span id="displayMeterReading" class="font-semibold" data-bind="meterReading">___________</span> electrical difference</p>
                                        <p>• Rental will phone connection from ________________ in rent other conditions</p>
                                        <p>• He will to respect in ________________ other 3 months</p>
                                        <p>• The TENANT will use Rent For ________________</p>
                                        <p>• Rental will telephone say by in period mentioned of time years only</p>
                                        <p>• Ralent is responsible for their home electrical bill</p>
                                        <p>• The TENANT will not demolish any room or wall without permission of the landlord</p>
                                        <p>• He has several damages and by the public returned his written consent of the landlord</p>
                                        <p>• Tenant will not perform any from which problem may be caused to neighbors</p>
                                        <p>• Tenant will not responsible for their own electrical bill</p>
                                        <p>• Disagreements or controversies between the landlord and tenant, any term or state in written</p>
                                        <p>• The electrical damages will be made without the written consent of the landlord</p>
                                        <p>• Tenant will not electrical about electrical problem</p>
                                        <p>• His has not electrical may be will cause other neighbors and his electrical</p>
                                    </div>
                                </div>
                            </div>

                            <p class="text-justify">
                                In WITNESS whereof the parties hereto have caused their respectively hands.
                            </p>

                            <!-- Signature Section -->
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-12 pt-8 border-t border-gray-200">
                                <div class="text-center">
                                    <div class="text-lg font-semibold text-gray-900 mb-2">SIGNATURE OF THE OWNER/LANDLORD</div>
                                    <div class="border-b-2 border-gray-300 pb-8 mb-2"></div>
                                    <div class="text-sm text-gray-600">Signature & Date</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-lg font-semibold text-gray-900 mb-2">SIGNATURE OF THE TENANT</div>
                                    <div class="border-b-2 border-gray-300 pb-8 mb-2"></div>
                                    <div class="text-sm text-gray-600">Signature & Date</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: ViewAgreement -->
    </main>

    <!-- @COMPONENT: DownloadModal -->
    <div id="downloadModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-xl max-w-md w-full transform transition-all">
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-primary-100 mb-4">
                        <i class="fas fa-download text-primary-600 text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Choose Download Format</h3>
                    <p class="text-gray-600">Select the format you want to download the agreement in</p>
                </div>
                
                <div class="space-y-3 mb-6">
                    <button id="downloadPDF" class="w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                        <i class="fas fa-file-pdf text-red-500 mr-3 text-lg"></i>
                        <span class="font-medium">Download as PDF</span>
                    </button>
                    <button id="downloadDOC" class="w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                        <i class="fas fa-file-word text-blue-500 mr-3 text-lg"></i>
                        <span class="font-medium">Download as DOC</span>
                    </button>
                </div>
                
                <div class="flex space-x-3">
                    <button id="cancelDownload" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: DownloadModal -->

    <!-- @COMPONENT: ConfirmationModal -->
    <div id="confirmationModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
        <div class="bg-white rounded-xl shadow-xl max-w-md w-full transform transition-all">
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 mb-4">
                        <i class="fas fa-exclamation-triangle text-yellow-600 text-xl"></i>
                    </div>
                    <h3 class="text-lg font-semibold text-gray-900 mb-2">Confirm Download</h3>
                    <p class="text-gray-600">Are you sure you want to download the agreement as <span id="selectedFormat" class="font-semibold"></span>?</p>
                </div>
                
                <div class="flex space-x-3">
                    <button id="confirmNo" class="flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 font-medium hover:bg-gray-50 transition-colors">
                        No, Cancel
                    </button>
                    <button id="confirmYes" class="flex-1 px-4 py-2 bg-primary-600 text-white font-medium rounded-lg hover:bg-primary-700 transition-colors">
                        Yes, Download
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- @END_COMPONENT: ConfirmationModal -->

    <script>
        (function() {
            // Application state
            let formData = {};
            let selectedDownloadFormat = '';

            // DOM elements
            const applicationForm = document.getElementById('applicationForm');
            const viewAgreement = document.getElementById('viewAgreement');
            const formTab = document.getElementById('formTab');
            const viewTab = document.getElementById('viewTab');
            const agreementForm = document.getElementById('agreementForm');
            const downloadModal = document.getElementById('downloadModal');
            const confirmationModal = document.getElementById('confirmationModal');
            const downloadBtn = document.getElementById('downloadBtn');
            const backToForm = document.getElementById('backToForm');

            // Initialize the application
            function init() {
                showFormView();
                bindEventListeners();
            }

            // Event listeners
            function bindEventListeners() {
                // Tab navigation
                formTab.addEventListener('click', showFormView);
                viewTab.addEventListener('click', showViewAgreement);
                backToForm.addEventListener('click', showFormView);

                // Form submission
                agreementForm.addEventListener('submit', handleFormSubmit);

                // Download functionality
                downloadBtn.addEventListener('click', openDownloadModal);
                document.getElementById('downloadPDF').addEventListener('click', () => selectDownloadFormat('PDF'));
                document.getElementById('downloadDOC').addEventListener('click', () => selectDownloadFormat('DOC'));
                document.getElementById('cancelDownload').addEventListener('click', closeDownloadModal);
                document.getElementById('confirmYes').addEventListener('click', confirmDownload);
                document.getElementById('confirmNo').addEventListener('click', closeConfirmationModal);

                // Form reset
                document.querySelector('button[type="button"]').addEventListener('click', resetForm);
            }

            // Show form view
            function showFormView() {
                applicationForm.classList.remove('hidden');
                viewAgreement.classList.add('hidden');
                formTab.classList.add('text-primary-600', 'bg-primary-50', 'border-primary-200');
                formTab.classList.remove('text-gray-600', 'bg-white', 'border-gray-300');
                viewTab.classList.remove('text-primary-600', 'bg-primary-50', 'border-primary-200');
                viewTab.classList.add('text-gray-600', 'bg-white', 'border-gray-300');
            }

            // Show view agreement
            function showViewAgreement() {
                if (Object.keys(formData).length === 0) {
                    alert('Please fill out the form first!');
                    return;
                }
                
                applicationForm.classList.add('hidden');
                viewAgreement.classList.remove('hidden');
                viewTab.classList.add('text-primary-600', 'bg-primary-50', 'border-primary-200');
                viewTab.classList.remove('text-gray-600', 'bg-white', 'border-gray-300');
                formTab.classList.remove('text-primary-600', 'bg-primary-50', 'border-primary-200');
                formTab.classList.add('text-gray-600', 'bg-white', 'border-gray-300');
                
                populateAgreementView();
            }

            // Handle form submission
            function handleFormSubmit(e) {
                e.preventDefault();
                
                // Collect form data
                formData = {
                    agreementDate: document.getElementById('agreementDate').value,
                    tenantName: document.getElementById('tenantName').value,
                    fatherName: document.getElementById('fatherName').value,
                    religion: document.getElementById('religion').value,
                    occupation: document.getElementById('occupation').value,
                    allowedFloors: document.getElementById('allowedFloors').value,
                    roomsConsisting: document.getElementById('roomsConsisting').value,
                    phoneWorking: document.getElementById('phoneWorking').value,
                    phoneAlternative: document.getElementById('phoneAlternative').value,
                    monthlyRent: document.getElementById('monthlyRent').value,
                    meterReading: document.getElementById('meterReading').value,
                    specialInstructions: document.getElementById('specialInstructions').value
                };

                // TODO: Implement form validation and submission logic
                showViewAgreement();
            }

            // Populate agreement view with form data
            function populateAgreementView() {
                // Update date
                const dateElement = document.getElementById('displayDate');
                if (formData.agreementDate && dateElement) {
                    const date = new Date(formData.agreementDate);
                    dateElement.textContent = date.toLocaleDateString();
                }

                // Update tenant name
                const tenantNameElement = document.getElementById('displayTenantName');
                if (formData.tenantName && tenantNameElement) {
                    tenantNameElement.textContent = formData.tenantName;
                }

                // Update father name
                const fatherNameElement = document.getElementById('displayFatherName');
                if (formData.fatherName && fatherNameElement) {
                    fatherNameElement.textContent = formData.fatherName;
                }

                // Update occupation
                const occupationElement = document.getElementById('displayOccupation');
                if (formData.occupation && occupationElement) {
                    occupationElement.textContent = formData.occupation;
                }

                // Update rent amount
                const rentElements = document.querySelectorAll('#displayRent, #displayRentAmount');
                rentElements.forEach(element => {
                    if (formData.monthlyRent) {
                        element.textContent = `₹${formData.monthlyRent}`;
                    }
                });

                // Update meter reading
                const meterElement = document.getElementById('displayMeterReading');
                if (formData.meterReading && meterElement) {
                    meterElement.textContent = formData.meterReading;
                }
            }

            // Download modal functions
            function openDownloadModal() {
                downloadModal.classList.remove('hidden');
            }

            function closeDownloadModal() {
                downloadModal.classList.add('hidden');
            }

            function selectDownloadFormat(format) {
                selectedDownloadFormat = format;
                closeDownloadModal();
                openConfirmationModal();
            }

            function openConfirmationModal() {
                document.getElementById('selectedFormat').textContent = selectedDownloadFormat;
                confirmationModal.classList.remove('hidden');
            }

            function closeConfirmationModal() {
                confirmationModal.classList.add('hidden');
            }

            function confirmDownload() {
                closeConfirmationModal();
                // TODO: Implement actual download functionality for PDF/DOC
                if (selectedDownloadFormat === 'PDF') {
                    console.log('Downloading as PDF...');
                    // Implementation for PDF download would go here
                } else if (selectedDownloadFormat === 'DOC') {
                    console.log('Downloading as DOC...');
                    // Implementation for DOC download would go here
                }
                
                // Show success message
                alert(`Agreement downloaded as ${selectedDownloadFormat} successfully!`);
            }

            // Reset form
            function resetForm() {
                agreementForm.reset();
                formData = {};
            }

            // Initialize the application
            init();
        })();
    </script>
</body>
</html>